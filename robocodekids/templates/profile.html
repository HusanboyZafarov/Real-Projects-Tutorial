{% extends 'base.html' %}
{% load static %}

{% block title %}{{ user.username }} |{% endblock title %}
{% block meta %}
<meta property="og:type" content="website">
<meta property="og:url" content="{{ request.get_host }}{{ request.get_full_path }}">
<meta property="og:title" content="{{ user.username }}">
<meta property="og:description" content="{{ user.bio }}">
<meta property="og:image" content="{{ request.get_host }}{{ user.avatar.url }}">
{% endblock meta %}

{% block content %}
    <main class="bg-[#E0E0EC] pt-24 pb-24 lg:pt-16 px-3">
        <div class="container mx-auto">
            <div class="flex items-start justify-between gap-5 flex-wrap md:flex-nowrap my-8">
                <div class="w-full md:w-[30%]">
                    <h1 class="text-2xl mb-3">Profile</h1>
                    <div class="bg-white rounded-lg flex items-center justify-center overflow-hidden h-[300px]">
                        <img src="{{ user.avatar.url }}" alt="avatar">
                    </div>
                    <h1 class="font-bold text-2xl mt-5 capitalize">{{ user.full_name }} ({{ user.username }})</h1>
                    <h1 class="text-xl mt-2">{{ user.bio }}</h1>
                    <h2 class="text-2xl mt-6">Ijtimoiy tarmoqlar</h2>
                    <a href="https://t.me/{{ user.telegram }}" target="_blank"
                        class="bg-white w-full block rounded-lg py-3 px-5 my-3 flex items-center gap-2">
                        <img src="{% static 'img/icon/telegram.svg' %}" alt="">
                        Telegram
                    </a>
                    <a href="https://instagram.com/{{ user.instagram }}/" target="_blank"
                        class="bg-white w-full block rounded-lg py-3 px-5 my-3 flex items-center gap-2">
                        <img src="{% static 'img/icon/instagram.svg' %}" alt="">
                        Instagram
                    </a>
                    <a href="{{ user.website }}" target="_blank"
                        class="bg-white w-full block rounded-lg py-3 px-5 my-3 flex items-center gap-2">
                        <img src="{% static 'img/icon/globe.svg' %}" alt="">
                        Website
                    </a>
                </div>
                <div class="w-full md:w-[40%]">
                    {% if works %}
                    <!-- // -->
                    <h1 class="text-2xl mb-3">Foydalanuvchining ishlari</h1>
                    {% for work in works %}
                    <!-- // -->
                    <div class="w-full p-3 bg-white rounded-lg flex items-center justify-between flex-wrap mb-3">
                        <div class="w-full lg:w-[40%]">
                            <img src="{{ work.image.url }}" class="w-full h-auto md:h-[150px] rounded-md object-cover" alt="{{ work.title }}">
                        </div>
                        <div class="block w-full lg:w-[60%] p-3 pb-0">
                            <a href="{{ work.get_absolute_url }}" class="text-lg font-medium hover:text-blue-500">{{ work.title }}</a>
                            <p>{{ work.description|slice:"50" }}</p>
                            <hr class="my-2">
                            <div class="my-1 flex items-center justify-between gap-3">
                                <div class="flex items-center gap-1">
                                    <img src="{% static 'img/icon/heart.png' %}" class="w-6" alt="likes"> {{ work.likes }}
                                </div>
                                <div class="flex items-center gap-1">
                                    <img src="{% static 'img/icon/eye.png' %}" class="w-6" alt="eye"> {{ work.views_count }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- // -->
                    {% endfor %}
                    {% else %}
                    <h1 class="text-2xl mb-3">Foydalanuvchining ishlari hozircha yo'q</h1>
                    {% endif %}
                </div>
                <div class="w-full md:w-[30%]">
                    <h1 class="text-2xl mb-3">Statistikalar</h1>
                    <div class="bg-white rounded-lg flex items-center gap-3 mb-4 py-3 px-4">
                        <img src="{% static 'img/icon/total_likes.png' %}" class="w-12" alt="Total Likes">
                        <div>
                            <h1 class="text-xl font-bold">{{ user.total_likes }}</h1>
                            <h3>Jami layklar soni</h3>
                        </div>
                    </div>
                    <!-- // -->
                    <div class="bg-white rounded-lg flex items-center gap-3 mb-4 py-3 px-4">
                        <img src="{% static 'img/cube.png' %}" class="w-12" alt="Total works">
                        <div>
                            <h1 class="text-xl font-bold">{{ user.total_works }}</h1>
                            <h3>Jami ishlar soni</h3>
                        </div>
                    </div>
                    <!-- // -->
                    <div class="bg-white rounded-lg flex items-center gap-3 mb-4 py-3 px-4">
                        <img src="{% static 'img/icon/day.png' %}" class="w-12" alt="Day">
                        <div>
                            <h1 class="text-xl font-bold">{{ user.date_joined }}</h1>
                            <h3>Hisob yaratilgan kun</h3>
                        </div>
                    </div>
                    <!-- // -->
                    <!-- social site -->
                    <a href="http://robocode.uz"
                        class="block mt-8 shadow-basic  bg-white py-3 px-4 rounded-2xl flex items-center gap-3 flex-wrap md:justify-center xl:justify-start">
                    
                        <img src="{% static 'img/favicon.svg' %}" class="w-16 h-16 object-contain" alt="">
                    
                        <div class="text-[#303634] ">
                    
                            <h1 class="text-2xl font-medium">Robocode</h1>
                            <h3 class="text-md">Dasturlashni o'rganish orzu emas</h3>
                    
                        </div>
                    
                    </a>
                    <a href="https://pyblog.uz"
                        class="mt-8 shadow-basic  bg-white py-3 px-4 rounded-2xl flex items-center gap-3 flex-wrap md:justify-center xl:justify-start">
                    
                        <img src="{% static 'img/pyblog.png' %}" class="w-16 h-16 object-contain" alt="">
                    
                        <div class="text-[#303634] ">
                    
                            <h1 class="text-2xl font-medium">Pyblog</h1>
                            <h3 class="text-md">Python hamda dasturlash blogi</h3>
                    
                        </div>
                    
                    </a>
                    <a href="https://www.instagram.com/yoshlartexnoparki/"
                        class="mt-8 shadow-basic  bg-white py-3 px-4 rounded-2xl flex items-center gap-3 flex-wrap md:justify-center xl:justify-start">
                    
                        <img src="{% static 'img/texnopark.svg' %}" class="w-16" alt="">
                    
                        <div class="text-[#303634] ">
                    
                            <h1 class="text-2xl font-medium">Texnopark</h1>
                            <h3 class="text-md">Andijon Yoshlar Texnoparki</h3>
                    
                        </div>
                    
                    </a>
                    <!-- endsocialsite -->
                </div>
            </div>
        </div>
    </main>
{% endblock content %}    

{% block script %}
<script src="{% static 'js/tailwind.js' %}"></script>
{% endblock script %}
    